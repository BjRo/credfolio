---
description: Definition of done
alwaysApply: true
---

## Makefile quick reference

Run these from the repository root with `make`.

<options>
- `setup`: Install JS/TS deps (pnpm) and Go tools (golangci-lint, air).
- `dev`: Start database (Docker Compose) and run all apps in dev mode in parallel.
- `build`: Build all apps.
- `start`: Start all apps in production mode (where applicable).
- `typecheck`: Run type checking across the monorepo.
- `test-backend`: Run Go tests in `apps/backend`.
- `test-frontend`: Run Vitest tests in `apps/frontend`.
- `test`: Run backend tests first, then frontend tests.
- `lint-backend`: Run `golangci-lint` in `apps/backend` (tidies modules first).
- `lint-frontend`: Run Biome lint in `apps/frontend`.
- `lint`: Run backend lint first, then frontend lint.
- `fmt-backend`: Run `gofmt -s -w` and, if available, `goimports -w` in `apps/backend`.
- `fmt-frontend`: Run Biome format in `apps/frontend`.
- `fmt`: Format backend first, then frontend.
- `db-up`: Start Postgres and pgAdmin via Docker Compose (host ports: Postgres 55432, pgAdmin 8081).
- `db-down`: Stop and remove DB containers and volumes.
</options>

## Definition of done for new features

For every new feature or code change, ensure all of the following succeed locally before opening a PR. For changes that affect only the backend or only the frontend, you may run the commands only for the affected side, unless you suspect cross-cutting impact.

1) Lint is clean for both backend and frontend (no errors):
   - backend: run `make lint-backend`
   - frontend: run `make lint-frontend`

2) Tests pass for both backend and frontend:
   - backend: run `make test-backend`
   - frontend: run `make test-frontend`

3) Code is properly formatted:
   - backend: run `make fmt-backend`
   - frontend: run `make fmt-frontend`

If any command fails, fix the reported issues before proceeding.

